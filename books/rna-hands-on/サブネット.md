## この章でやること

前章で取得したVPCの中にサブネットを作成していきます。

## サブネットとは

サブネットとは、取得したVPC内のIPアドレスを細かく分割したセグメントのことです。

VPCを土地で例えるなら、**サブネットはその土地の中でライン引きを引いて、いくつかの分割された塊**、と言えます。

VPCを取得した時点ではこの土地はただ均一でだだっ広いだけですが、境界線を設け、それぞれの島で別々の役割を持たせていくことになります。

役割として分かりやすい一例をあげると、**プライペートサブネット**と**パブリックサブネット**という分け方があります。前者は土地の中の人間のみがアクセスする前提の土地で、後者は土地の外側の人間（＝インターネット）もアクセスし得るような土地、という使い分けです。このような境界の引き方をすることで、より安全にアプリを公開できます。

## 流れ

VPCダッシュボードから「サブネット」にアクセスし、「サブネットを作成」を押下します。

![](https://storage.googleapis.com/zenn-user-upload/790aee846f4b-20230514.png)

↓

サブネットは、**ECS用のパブリックサブネットを2つ**、**RDS用のプライベートサブネットを2つ**の、計4つ作成します。以下項目を入力し、「サブネットを作成」を押下してください、

|項目|値|
|---|---|
|VPC ID|zenn-clone-vpc（先ほど作成したVPCを選択）|

#### ECS用のパブリックサブネット

ECSは、開発したアプリをデプロイするサービスです。詳細はECSの章でも説明しますが、アプリは一般ユーザーからアクセスされることを想定したものであるので、ECS用のサブネットは**パブリックサブネット**である必要があります。

|項目|値|
|---|---|
|サブネット名|zenn-clone-public-subnet1|
|アベイラビリティーゾーン|アジアパシフィック（東京）/ap-northeast-1a|
|IPv4 CIDR ブロック|10.0.0.0/24|

|項目|値|
|---|---|
|サブネット名|zenn-clone-public-subnet2|
|アベイラビリティーゾーン|アジアパシフィック（東京）/ap-northeast-1c|
|IPv4 CIDR ブロック|10.0.1.0/24|

アベイラビリティーゾーン、IPv4 CIDR ブロックの違いに注意してください。

#### RDS用のプライベートサブネット

RDSは、AWSが提供するデータベースサービスです。詳細はRDSの章でも説明しますが、データベースは一般ユーザーから直接アクセスされることを想定しない（デプロイしたアプリからのアクセスされる）ものであるので、**プライペートサブネット**である必要があります。

|項目|値|
|---|---|
|サブネット名|zenn-clone-private-subnet1|
|アベイラビリティーゾーン|アジアパシフィック（東京）/ap-northeast-1a|
|IPv4 CIDR ブロック|10.0.10.0/24|

|項目|値|
|---|---|
|サブネット名|zenn-clone-private-subnet2|
|アベイラビリティーゾーン|アジアパシフィック（東京）/ap-northeast-1c|
|IPv4 CIDR ブロック|10.0.11.0/24|

こちらも、アベイラビリティーゾーン、IPv4 CIDR ブロックの違いに注意してください。

↓

全ての項目を入力したら、「サブネットを作成」を押下してください。4件のサブネットが正常に作成されたらOKです！

![](https://storage.googleapis.com/zenn-user-upload/4db58704af30-20230514.png)
